<!--
  Copyright (c) 2016, <your name>. All rights reserved. Use of this source code
  is governed by a BSD-style license that can be found in the LICENSE file.
-->
<dom-module id="main-app">
    <template>
        <style is="custom-style">
            :host {
                display: block;
                height: 100%;
                --my-theme-background: linear-gradient(90deg, #cccccc, #ffffff, #cccccc);
                background: var(--my-theme-background);
            }

            .flex-center-vertical {
                @apply(--layout-vertical);
                @apply(--layout-center);
            }

            .flex-center-horizontal {
                @apply(--layout-horizontal);
                @apply(--layout-center);
            }

            .big {
                font-size: 15em;
                #border: 1px solid #65adc3;
                height: 100%;
            }

            .small {
                font-size: 7em;
                #border: 1px solid #65adc3;
                height: 100%;
            }

            paper-button.red {
                color: var(--paper-red-400);
            }

            .colorbox {
              height : 16px;
              width : 16px;
              border: 1px solid #65adc3;
              margin : 5px
            }

        </style>
        <iron-media-query query="(min-width: 800px)" query-matches="{{queryMatches}}"></iron-media-query>
        <paper-toolbar>
            <paper-icon-button id="btnMenu" icon="menu"></paper-icon-button>
            <span class="title">Boardgame Timer</span>
        </paper-toolbar>
        <div class="container flex-center-vertical">
            <div class="container flex-center-horizontal">
                <paper-input label="Setup time...(second)" auto-validate pattern="[0-9]*" maxlength="3" value="{{eachRoundTimeSecLabel}}">
                </paper-input>
                <paper-button id="btnAlarmStart">
                    <iron-icon icon="alarm"></iron-icon>
                    START
                </paper-button>
                <paper-button id="btnAlarmStop" class="red" hidden="true">
                    <iron-icon icon="alarm"></iron-icon>
                    STOP
                </paper-button>
            </div>
            <div>
                Elapsed Time : {{elapsedTimeMS}}
            </div>
            <div>
                Round : {{round}} Player{{playerIndex}} - {{playerName}}
            </div>
            <div>
                <template is="dom-if" if="{{queryMatches}}">
                    <div class="container flex-center-horizontal big">{{timeLeftLabel}}</div>
                </template>
                <template is="dom-if" if="{{!queryMatches}}">
                    <div class="container flex-center-horizontal small">{{timeLeftLabel}}</div>
                </template>
            </div>
        </div>
        <paper-dialog id="menuDialog" modal="true">
            <h2>Configuration</h2>
            <div>
              <paper-icon-button id="menu_add_player" icon="add" title="add player"></paper-icon-button>
              <paper-icon-button id="menu_del_player" icon="delete" disabled title="delete player"></paper-icon-button>
              <paper-icon-button id="menu_reorder" icon="sort" title="reorder"></paper-icon-button>
            </div>
            <paper-dialog-scrollable>
                <paper-listbox id="menu_player_list">
                  <template is="dom-repeat" items="{{players}}">
                    <paper-item id="{{item.id}}">
                      <div class="colorbox" style="background : {{item.color}};">
                      </div>
                      {{item.name}}
                    </paper-item>
                  </template>
                </paper-listbox>
            </paper-dialog-scrollable>
            <div class="buttons">
                <paper-button dialog-dismiss>
                    <iron-icon icon="close"></iron-icon>Cancel</paper-button>
                <paper-button dialog-confirm>
                    <iron-icon icon="done"></iron-icon>Accept</paper-button>
            </div>
        </paper-dialog>
        <paper-dialog id="menuAddPlayerDialog" modal="true">
            <h2>Configuration\Add Player</h2>
            <form is="iron-form" id="form" method="post" action="/form/handler">
              <paper-input name="name" label="name"></paper-input>
              <input name="address">
            </form>
            <div class="buttons">
                <paper-button dialog-dismiss>
                    <iron-icon icon="close"></iron-icon>Cancel</paper-button>
                <paper-button dialog-confirm>
                    <iron-icon icon="done"></iron-icon>Accept</paper-button>
            </div>
        </paper-dialog>
    </template>
</dom-module>
